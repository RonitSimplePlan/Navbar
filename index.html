<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH" crossorigin="anonymous">
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <div class="navbar">
        <div class="container">
            <div class="inner-nav">
                <div class="nav">
                    <div class="in-left">
                        <div class="inl-img">
                            <img src="./Images/Logo.png" alt="">
                        </div>
                    </div>
                    <div class="in-right">
                        <div class="inr-wrap">
                            <div class="inr-list">
                                <ul>
                                    <li>
                                        <div class="nav-item">
                                            <a href="#!">Mototring</a>
                                            <div class="nav-drop">
                                                <div class="inner-nav-dropdown">
                                                    <div class="nav-dropdown-right">
                                                        <div class="nav-dropdown-right-head">
                                                            <h3>GUIDES</h3>
                                                        </div>
                                                        <div class="nav-dropdown-right-text">
                                                            <ul>
                                                                <li>Over 50's Life Insurance</li>
                                                                <li>Critical Illness</li>
                                                                <li>Home Insurance Calculator</li>
                                                                <li>Policy Types</li>
                                                            </ul>
                                                        </div>
                                                    </div>
                                                    <div class="nav-dropdown-left">
                                                        <div class="nav-dropdown-left-list">
                                                            <ul>
                                                                <li>Motorbike Insurance</li>
                                                                <li>Car Insurance</li>
                                                                <li>Classic Car Insurance</li>
                                                                <li>Taxi Insurance</li>
                                                                <li>Van Insurance</li>
                                                                <li>Truck Insurance</li>
                                                                <li>Motor Trade Insurance</li>
                                                            </ul>
                                                        </div>
                                                        <div class="nav-dropdown-left-list">
                                                            <ul>
                                                                <li>Import Car Insurance</li>
                                                                <li>Motor Fleet Insurance</li>
                                                                <li>Convicted Driver Insurance</li>
                                                                <li>Minibus Insurance</li>
                                                                <li>Horsebox Insurance</li>
                                                                <li>Young Driver Insurance</li>
                                                            </ul>
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                    </li>
                                    <li><a href="#!">Home</a></li>
                                    <li><a href="#!">Life</a></li>
                                    <li><a href="#!">Business</a></li>
                                    <li><a href="#!">Travel</a></li>
                                </ul>
                            </div>
                            <div class="nav-srch">
                                <div class="ns-img" style="cursor: pointer;" data-bs-toggle="modal" data-bs-target="#exampleModal">
                                    <img src="./Images/Nav-img.svg" alt="">
                                </div> 
                                <div class="modal fade" id="exampleModal" tabindex="-1" aria-labelledby="exampleModalLabel" aria-hidden="true">
                                    <div class="modal-dialog modal-dialog-centered">
                                    <div class="modal-content">
                                        <div class="modal-header">
                                        <h1 class="modal-title fs-5" id="exampleModalLabel">Search Here</h1>
                                        <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                                        </div>
                                        <div class="bds-wrap">
                                            <div class="modal-body bd-srch">
                                                <input type="text">
                                            </div>
                                        </div>
                                    </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="res-nav">
                    <img src="./Images/burger-menu.svg" alt="">
                    <div class="rn-nav">
                        <div class="rnn-wrap">
                            <div class="rn-item">
                                <ul>
                                    <li>
                                        <a href="#!">Motoring</a>
                                        <div class="nav-drop">
                                            <div class="inner-nav-dropdown">
                                                <div class="nav-dropdown-right">
                                                    <div class="nav-dropdown-right-head">
                                                        <h3>GUIDES</h3>
                                                    </div>
                                                    <div class="nav-dropdown-right-text">
                                                        <ul>
                                                            <li>Over 50's Life Insurance</li>
                                                            <li>Critical Illness</li>
                                                            <li>Home Insurance Calculator</li>
                                                            <li>Policy Types</li>
                                                        </ul>
                                                    </div>
                                                </div>
                                                <div class="nav-dropdown-left">
                                                    <div class="nav-dropdown-left-list">
                                                        <ul>
                                                            <li>Motorbike Insurance</li>
                                                            <li>Car Insurance</li>
                                                            <li>Classic Car Insurance</li>
                                                            <li>Taxi Insurance</li>
                                                            <li>Van Insurance</li>
                                                            <li>Truck Insurance</li>
                                                            <li>Motor Trade Insurance</li>
                                                        </ul>
                                                    </div>
                                                    <div class="nav-dropdown-left-list">
                                                        <ul>
                                                            <li>Import Car Insurance</li>
                                                            <li>Motor Fleet Insurance</li>
                                                            <li>Convicted Driver Insurance</li>
                                                            <li>Minibus Insurance</li>
                                                            <li>Horsebox Insurance</li>
                                                            <li>Young Driver Insurance</li>
                                                        </ul>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                    </li>
                                    <li><a href="#!">Home</a></li>
                                    <li><a href="#!">Life</a></li>
                                    <li><a href="#!">Business</a></li>
                                    <li><a href="#!">Travel</a></li>
                                </ul>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            
        </div>
    </div>


  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js" integrity="sha384-YvpcrYf0tY3lHB60NNkmXc5s9fDVZLESaAA55NDzOxhy9GkcIdslK1eN7N6jIeHz" crossorigin="anonymous"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.7.1/jquery.min.js" integrity="sha512-v2CJ7UaYy4JwqLDIrZUI/4hqeoQieOmAZNXBeQyjo21dadnwR+8ZaIJVT8EE2iyI61OV8e6M8PP2/4hpQINQ/g==" crossorigin="anonymous" referrerpolicy="no-referrer"></script>

    <script>
        
        // $(".res-nav img").click(function(){
        //     $(".rnn-wrap").slideToggle(400);
        // });
        // $(".rn-item > ul > li").click(function(){
        //     $(".nav-drop").slideToggle(400);
        // });
        // $(".res-nav img").click(function(){
        //     $(".rnn-wrap").slideToggle(400);
        // });

        // $(".rn-item > ul > li").click(function(){
        //     $(".nav-drop").slideToggle(400);
        // });

        // $(document).click(function(event) {
        //     var $target = $(event.target);
        //     if(!$target.closest('.res-nav').length && !$target.closest('.rnn-wrap').length && !$target.closest('.nav-drop').length) {
        //         $(".rnn-wrap").slideUp(400);
        //         $(".nav-drop").slideUp(400);
        //     }
        // });

        // // Prevent clicks inside dropdown from closing it
        // $(".rnn-wrap, .nav-drop").click(function(event){
        //     event.stopPropagation();
        // });
        $(document).ready(function() {
    // Function to check if the device width is 768px or less
    function isMobile() {
        return window.matchMedia("(max-width: 768px)").matches;
    }

    // Function to add mobile event listeners
    function addMobileListeners() {
        console.log("Adding mobile listeners");
        
        $(".res-nav img").on("click.mobile", function(){
            $(".rnn-wrap").slideToggle(400);
        });

        $(".rn-item > ul > li").on("click.mobile", function(){
            $(".nav-drop").slideToggle(400);
        });

        $(document).on("click.mobile", function(event) {
            var $target = $(event.target);
            if(!$target.closest('.res-nav').length && !$target.closest('.rnn-wrap').length && !$target.closest('.nav-drop').length) {
                $(".rnn-wrap").slideUp(400);
                $(".nav-drop").slideUp(400);
            }
        });

        // Prevent clicks inside dropdown from closing it
        $(".rnn-wrap, .nav-drop").on("click.mobile", function(event){
            event.stopPropagation();
        });
    }

    // Function to remove mobile event listeners
    function removeMobileListeners() {
        console.log("Removing mobile listeners");
        
        $(".res-nav img").off(".mobile");
        $(".rn-item > ul > li").off(".mobile");
        $(document).off(".mobile");
        $(".rnn-wrap, .nav-drop").off(".mobile");
    }

    // Initialize listeners based on screen size
    function initListeners() {
        if (isMobile()) {
            addMobileListeners();
        } else {
            removeMobileListeners();
        }
    }

    // Initial check
    initListeners();

    // Listen for window resize and update listeners accordingly
    $(window).resize(function() {
        initListeners();
    });
});

    </script>
</body>
</html>